<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Buy Free Fire ID</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script defer src="https://kit.fontawesome.com/a076d05399.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap');
    body {
      background: linear-gradient(135deg, #1e1e2f, #2c3e50);
      font-family: 'Orbitron', sans-serif;
    }
    .glass {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 1.5rem;
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease-in-out;
    }
    .selected-method {
      border: 3px solid #facc15;
      transform: scale(1.05);
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
  <div class="glass p-6 w-full max-w-lg">
    <h1 class="text-4xl text-center text-yellow-400 font-bold mb-8">Buy Free Fire ID</h1>
    <form id="buyForm" class="space-y-5">
      <input type="text" name="name" placeholder="Full Name" required class="w-full px-4 py-3 rounded-xl bg-white text-gray-900 font-semibold shadow-inner" />
      
      <input type="email" id="emailField" disabled class="w-full px-4 py-3 rounded-xl bg-gray-200 text-gray-600 font-semibold shadow-inner" />
      
      <input type="tel" name="phone" placeholder="Phone Number" required class="w-full px-4 py-3 rounded-xl bg-white text-gray-900 font-semibold shadow-inner" />
      
      <input type="tel" name="whatsapp" placeholder="Whatsapp Number" required class="w-full px-4 py-3 rounded-xl bg-white text-gray-900 font-semibold shadow-inner" />

      <div>
        <label class="text-white font-semibold">Your ID</label>
        <div id="idBox" class="w-full px-4 py-3 rounded-xl bg-gray-100 text-gray-900 font-bold text-lg shadow-inner select-none">#AK24HI4S1</div>
      </div>

      <div>
        <label class="text-white font-semibold">Price</label>
        <div id="priceBox" class="w-full px-4 py-3 rounded-xl bg-gray-100 text-gray-900 font-bold text-lg shadow-inner select-none">৳2000</div>
      </div>

      <div>
        <label class="text-white font-semibold block mb-2">Select Payment Method</label>
        <div class="grid grid-cols-3 gap-4" id="methodButtons">
          <div onclick="selectMethod('bkash')" id="bkashBtn" class="cursor-pointer text-center bg-pink-600 hover:bg-pink-500 text-white font-bold rounded-xl py-3 shadow-md transition-transform">
            <i class="fab fa-cc-apple-pay text-xl"></i><br>Bkash
          </div>
          <div onclick="selectMethod('nagad')" id="nagadBtn" class="cursor-pointer text-center bg-orange-500 hover:bg-orange-400 text-white font-bold rounded-xl py-3 shadow-md transition-transform">
            <i class="fas fa-bolt text-xl"></i><br>Nagad
          </div>
          <div onclick="selectMethod('rocket')" id="rocketBtn" class="cursor-pointer text-center bg-purple-700 hover:bg-purple-600 text-white font-bold rounded-xl py-3 shadow-md transition-transform">
            <i class="fas fa-rocket text-xl"></i><br>Rocket
          </div>
        </div>
        <input type="hidden" id="paymentMethod" value="bkash" />
      </div>

      <button type="button" onclick="goToPayment()" class="w-full mt-6 py-3 bg-yellow-400 text-black text-xl font-bold rounded-xl hover:bg-yellow-300 flex justify-center items-center space-x-2">
        <span>Next</span><i class="fas fa-arrow-circle-right"></i>
      </button>
    </form>

    <!-- সতর্ক বার্তা -->
    <div class="mt-6 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded">
      <p class="text-sm font-semibold">সতর্ক বার্তা:</p>
      <p class="text-sm">
        সবগুলো তথ্য সঠিকভাবে পূরণ করে পেমেন্ট সম্পন্ন করুন। পেমেন্ট সফল হলে আপনার Whatsapp নাম্বারে যোগাযোগ করা হবে। প্রতারণা থেকে দূরে থাকুন। ধন্যবাদ।
      </p>
    </div>
  </div>

  <!-- Firebase and script logic -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCwiUR6oJRjTBFa2ajTdb-5Owc_I6Dw2S0",
      authDomain: "fir-bot-bd5e8.firebaseapp.com",
      projectId: "fir-bot-bd5e8",
      storageBucket: "fir-bot-bd5e8.appspot.com",
      messagingSenderId: "501448994050",
      appId: "1:501448994050:web:fb1c102dcaeb23bf93261b"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();

    onAuthStateChanged(auth, (user) => {
      if (user) {
        document.getElementById('emailField').value = user.email;
      } else {
        document.getElementById('emailField').value = "Not logged in";
      }
    });

    document.addEventListener('DOMContentLoaded', () => {
      const fixedPrice = '৳2300';
      const fixedID = '#HR94HI7FH';

      document.getElementById('priceBox').innerText = fixedPrice;
      document.getElementById('idBox').innerText = fixedID;
      selectMethod('bkash'); // default
    });

    window.selectMethod = function(method) {
      const buttons = ['bkash', 'nagad', 'rocket'];
      buttons.forEach(btn => {
        const el = document.getElementById(btn + 'Btn');
        el.classList.remove('selected-method');
      });
      document.getElementById(method + 'Btn').classList.add('selected-method');
      document.getElementById('paymentMethod').value = method;
    }

    window.goToPayment = function () {
      const selectedMethod = document.getElementById('paymentMethod').value;
      const price = document.getElementById('priceBox').innerText;
      const idValue = document.getElementById('idBox').innerText;

      localStorage.setItem('selected_method', selectedMethod);
      localStorage.setItem('selected_price', price);
      localStorage.setItem('selected_id', idValue);

      let paymentNumber = '';
      if (selectedMethod === 'bkash') paymentNumber = '8801318645435';
      if (selectedMethod === 'nagad') paymentNumber = '8801855966005';
      if (selectedMethod === 'rocket') paymentNumber = '8801829261192';

      localStorage.setItem('payment_number', paymentNumber);

      window.location.href = 'payment.html';
    }
  </script>
</body>
</html>